<aside id="commercial-gallery" class="gallery">
  <div class="gallery__inner">
    <button class="btn btn-bordered btn-back btn-sm"><i class="icon icon-arrow-left-sm mr-0 mr-8-sm"></i><span class="d-none d-block-sm">Back to Portfolio</span></button>
    <div class="slideshow">
      {{ range .Site.Data.portfolio_commercial.portfolio_item }}
      {{ $portfolio_name := (.name) }}
      {{ $portfolio_type := (.type) }}
      {{ $portfolio_address := (.address) }}
      {{ $portfolio_area := (.area) }}
      {{ $portfolio_price := (.price) }}
      {{ $portfolio_architect := (.architect) }}
      {{ $portfolio_design := (.design) }}

      {{ with .sub_item}}
      {{ range . }}
      <div class="slideshow__item">
        <div class="slideshow__info">
          <h3>{{ .name }} <i class="icon-angle-down"></i></h3>
          <div class="slideshow__list">
            <div class="slideshow__list-inner">
              <ul>
                {{ with .type }}
                    <li><i class="icon icon-new-construction"></i>{{ . }}</li>
                {{ end }}
                {{ with $portfolio_address }}
                    <li><i class="icon icon-location-sm"></i>{{ . }}</li>
                {{ end }}
              </ul>
              <ul>
                {{ with .area }}
                    <li><i class="icon icon-size"></i>{{ . }}</li>
                {{ end }}
                {{ with .price }}
                    <li><i class="icon icon-money-1"></i>{{ . }}</li>
                {{ end }}
              </ul>
              <ul>
                {{ with .architect }}
                    <li><i class="icon icon-compass"></i><span>Architect:</span> {{ . }}</li>
                {{ end }}
                {{ with .design }}
                    <li><i class="icon icon-palette"></i><span>Interior Design:</span> {{ . }}</li>
                {{ end }}
              </ul>
            </div>
          </div>
        </div>
        <div class="slideshow-inside">
          {{ range .gallery_pictures }}
          <div class="slideshow-inside__item">
            <picture>
              {{ $image_ext_res := path.Ext .gallery_img }}
              <source type="image/webp" data-srcset="{{ replace .gallery_img $image_ext_res ".webp" | relURL }}">
              <img class="img-responsive lazy" data-srcset="{{ .gallery_img | relURL }}" alt="…">
            </picture>
          </div>
          {{ end }}
        </div>
      </div>
      {{ end }}

      {{ else }}

      <div class="slideshow__item">
        <div class="slideshow__info">
          <h3>{{ $portfolio_name }} <i class="icon-angle-down"></i></h3>
          <div class="slideshow__list">
            <div class="slideshow__list-inner">
              <ul>
                {{ with $portfolio_type }}
                    <li><i class="icon icon-new-construction"></i>{{ . }}</li>
                {{ end }}
                {{ with $portfolio_address }}
                    <li><i class="icon icon-location-sm"></i>{{ . }}</li>
                {{ end }}
              </ul>
              <ul>
                {{ with $portfolio_area }}
                    <li><i class="icon icon-size"></i>{{ . }}</li>
                {{ end }}
                {{ with $portfolio_price }}
                    <li><i class="icon icon-money-1"></i>{{ . }}</li>
                {{ end }}
              </ul>
              <ul>
                {{ with $portfolio_architect }}
                    <li><i class="icon icon-compass"></i><span>Architect:</span> {{ . }}</li>
                {{ end }}
                {{ with $portfolio_design }}
                    <li><i class="icon icon-palette"></i><span>Interior Design:</span> {{ . }}</li>
                {{ end }}
              </ul>
            </div>
          </div>
        </div>
        <div class="slideshow-inside">
          {{ range .gallery_pictures }}
          <div class="slideshow-inside__item">
            <picture>
              {{ $image_ext_res := path.Ext .gallery_img }}
              <source type="image/webp" data-srcset="{{ replace .gallery_img $image_ext_res ".webp" | relURL }}">
              <img class="img-responsive lazy" data-srcset="{{ .gallery_img | relURL }}" alt="…">
            </picture>
          </div>
          {{ end }}
        </div>
      </div>

      {{ end }}
      {{ end }}
    </div>
  </div>
</aside>
